{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.scss","components/Modal/Modal.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Button/Button.module.scss","components/Container/Container.module.scss","components/ImageFinderApi/ImageFinderApi.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Container/Container.jsx","components/Modal/Modal.jsx","App.jsx","index.js","components/Searchbar/Searchbar.module.scss"],"names":["module","exports","searchQuery","pageNumber","axios","get","then","response","data","hits","Searchbar","state","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","resetInputQuery","className","styles","SearchForm","this","type","SearchFormButton","buttonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webFormatURL","alt","largeImageURL","handleClickImage","onClick","src","image","ImageGallery","images","map","id","webformatURL","Button","children","fetchImages","Container","modalRoot","document","getElementById","Modal","handleKeyDown","code","toggleModal","handleOverlayClick","target","window","addEventListener","createPortal","Overlay","PureComponent","App","isLoading","showModal","onFormSubmit","query","options","imageFinderApi","prevState","scrollTo","top","documentElement","scrollHeight","behavior","length","alert","catch","finally","prevProps","showLoadMoreButton","color","height","width","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.fc83eef9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3iRwM\",\"image\":\"ImageGalleryItem_image__1vP9q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__21j6m\",\"Modal\":\"Modal_Modal__32mLz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2s6Dc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2BYYQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__11SY1\"};","import axios from 'axios';\n\nconst fetchImages = ({ searchQuery, pageNumber }) => {\n  const key = '20395824-d8cdb960c2a62f226b2cade5d';\n\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${searchQuery}&page=${pageNumber}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(response => response.data.hits);\n};\n\nexport default { fetchImages };\n","import { Component } from 'react';\n\nimport styles from './Searchbar.module.scss';\n\nclass Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  handleChange = e => {\n    this.setState({ searchQuery: e.currentTarget.value });\n  };\n\n  handleSubmit = e => {\n    const { searchQuery } = this.state;\n    e.preventDefault();\n    this.props.onSubmit(searchQuery);\n    this.resetInputQuery();\n  };\n\n  resetInputQuery = () => {\n    this.setState({ searchQuery: '' });\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.buttonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchQuery}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import styles from './ImageGalleryItem.module.scss';\n\nconst ImageGalleryItem = ({\n  webFormatURL,\n  alt,\n  largeImageURL,\n  handleClickImage,\n}) => {\n  return (\n    <li\n      className={styles.ImageGalleryItem}\n      onClick={() => handleClickImage(largeImageURL)}\n    >\n      <img src={webFormatURL} alt={alt} className={styles.image} />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import styles from './ImageGallery.module.scss';\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nconst ImageGallery = ({ images, alt, handleClickImage }) => (\n  <ul className={styles.ImageGallery}>\n    {images.map(({ id, webformatURL, largeImageURL }) => (\n      <ImageGalleryItem\n        key={id}\n        webFormatURL={webformatURL}\n        largeImageURL={largeImageURL}\n        alt={alt}\n        handleClickImage={handleClickImage}\n      />\n    ))}\n  </ul>\n);\n\nexport default ImageGallery;\n","import styles from './Button.module.scss';\n\nconst Button = ({ children, fetchImages }) => {\n  const handleClick = () => {\n    fetchImages();\n  };\n\n  return (\n    <button type=\"button\" className={styles.Button} onClick={handleClick}>\n      {children}\n    </button>\n  );\n};\n\nexport default Button;\n","import styles from './Container.module.scss';\nconst Container = ({ children }) => (\n  <div className={styles.Container}>{children}</div>\n);\nexport default Container;\n","import { createPortal } from 'react-dom';\nimport { PureComponent } from 'react';\nimport styles from './Modal.module.scss';\n\nconst modalRoot = document.getElementById('modal-root');\n\nclass Modal extends PureComponent {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.toggleModal();\n    }\n  };\n\n  handleOverlayClick = e => {\n    if (e.target === e.currentTarget) {\n      this.props.toggleModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={styles.Overlay} onClick={e => this.handleOverlayClick(e)}>\n        <div className={styles.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport imageFinderApi from './components/ImageFinderApi';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Container from './components/Container';\nimport Modal from './components/Modal';\n\nimport './commonStyles.css';\nimport Loader from 'react-loader-spinner';\n\nclass App extends Component {\n  state = {\n    images: [],\n    searchQuery: '',\n    pageNumber: 1,\n    isLoading: false,\n    largeImageURL: '',\n    showModal: false,\n  };\n\n  onFormSubmit = query => {\n    this.setState({\n      searchQuery: query,\n      images: [],\n      pageNumber: 1,\n    });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  fetchImages = () => {\n    const { searchQuery, pageNumber } = this.state;\n    const options = {\n      searchQuery,\n      pageNumber,\n    };\n    this.setState({ isLoading: true });\n\n    imageFinderApi\n      .fetchImages(options)\n      .then(images => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          pageNumber: (prevState.pageNumber += 1),\n        }));\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n        if (images.length === 0) {\n          alert('No images found, try another request');\n        }\n      })\n      .catch(() => alert('Sorry, something went wrong'))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  handleClickImage = largeImageURL => {\n    this.toggleModal();\n    this.setState({ largeImageURL: largeImageURL });\n  };\n\n  render() {\n    const {\n      images,\n      searchQuery,\n      isLoading,\n      showModal,\n      largeImageURL,\n    } = this.state;\n    const showLoadMoreButton = images.length > 0;\n\n    return (\n      <>\n        <Searchbar onSubmit={this.onFormSubmit} />\n        <main>\n          <Container>\n            <ImageGallery\n              images={images}\n              alt={searchQuery}\n              handleClickImage={this.handleClickImage}\n            />\n\n            {isLoading ? (\n              <Loader type=\"Circles\" color=\"#3f51b5\" height={80} width={80} />\n            ) : (\n              showLoadMoreButton && (\n                <Button fetchImages={this.fetchImages}>Load more</Button>\n              )\n            )}\n          </Container>\n          {showModal && (\n            <Modal toggleModal={this.toggleModal}>\n              {' '}\n              <img src={largeImageURL} alt=\"\" />\n            </Modal>\n          )}\n        </main>\n      </>\n    );\n  }\n}\n\nApp.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.object),\n  searchQuery: PropTypes.string,\n  pageNumber: PropTypes.number,\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2Ep_q\",\"SearchForm\":\"Searchbar_SearchForm__2I4mE\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2qPO1\",\"buttonLabel\":\"Searchbar_buttonLabel__2jQ9n\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3gZ4u\"};"],"sourceRoot":""}